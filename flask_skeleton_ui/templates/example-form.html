{% from 'app/vendor/.govuk-frontend/components/fieldset/macro.html' import govukFieldset %}
{% import 'app/macros/wtforms_helpers.html' as wtforms_helpers %}

{% extends "app/layout.html" %}

{% block title -%}
  {%- if form.errors %}Error: {% endif -%}
  Example GOV.UK styled Flask-WTF form
{%- endblock %}

{% block content %}
  {# {{ wtforms_helpers.govukErrorSummary(form) }} #}

  <form method="POST" action="{{url_for('example_form.index')}}" novalidate>
      {% call govukFieldset({
        'legend': {
          'text': "Example GOV.UK styled Flask-WTF form",
          'classes': "govuk-fieldset__legend--m",
          'isPageHeading': true
        }
      }) %}

        {{ form.csrf_token }}

        {{ form['string_field'](params={
          'hint': {
            'html': 'Hint with some <em>HTML</em> in'
          },
          'attributes': {
            'data-foo': 'bar'
          }
        }) }}

        {{ form['password_field'] }}
        {{ form['password_retype_field'] }}

        {{ form['email_field'](params={
          'type': 'email'
        }) }}

        {{ form['float_field'] }}
        {{ form['integer_field'] }}
        {{ form['decimal_field'] }}

        {{ form['textarea_field'] }}

        {{ form['boolean_field'](params={
          'items': [
            {
              'hint': {
                'text': 'This is a hint'
              }
            }
          ]
        }) }}

        {{ form['select_multiple_field'](params={
          'fieldset': {
            'legend': {
              'text': 'SelectMultipleField rendered as checkboxes'
            }
          },
          'hint': {
            'text': 'Please note that SelectMultipleField elements should never be rendered as <select multiple> elements since users find these extremely difficult to interact with.'
          },
          'items': [
            {},
            {
              'hint': {
                'text': 'This checkbox item has it\'s own hint'
              }
            }
          ]
        }) }}

        {{ form['select_field'] }}

        {{ form['radio_field'] }}

        {#


        {{ wtforms_helpers.govukFileUpload(form, 'file_field') }}
        {{ wtforms_helpers.govukFileUpload(form, 'multiple_file_field') }}

        {{ wtforms_helpers.govukButton(form, 'submit_button') }}#}

        <input type="submit" value="go">
      {% endcall %}
  </form>

{% endblock %}
