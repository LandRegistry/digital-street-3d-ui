{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./search_index_map_ui/assets/src/javascripts/mapbox.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","mapboxgl","accessToken","map","Map","style","center","zoom","pitch","bearing","container","antialias","buildingHeightSourceLayer","floorplanLayers","layer","sourceLayer","spatialUnitsDiv","document","getElementById","spatialUnits","JSON","parse","innerHTML","toggleLayers","filter","includes","getLayoutProperty","setLayoutProperty","this","className","on","buildingIdsWithFloorplans","features","querySourceFeatures","j","properties","fid","push","buildingFilter","concat","buildingFeatures","setFeatureState","id","source","hide","displayFloorplan","titleInformationOverlay","buildingId","baseHeight","extrusionHeight","floorHeight","RelHmax","num_floors","floor","setPaintProperty","validate","highlightTitle","featureId","titleFeatureIds","titleNumber","featureIds","getFeatureIdsByTitleNumber","getSpatialUnitById","k","highlight","find","element","display","e","removeFeatureState","disableHighlightTitle","layers","queryRenderedFeatures","point","length","currentFeature","spatialUnit","BAUnits","BAUnit","currentBAUnit","title","address","pricePaid","rights","restrictions","responsibilities","currentPricePaid","amount","date","right","currentRight","newRight","rightId","type","description","mortgages","mortgage","partyId","currentMortgage","newMortgage","interestRate","restriction","currentRestriction","newRestriction","responsibility","currentResponsibility","newResponsibility","tenureTypeHeading","createElement","textContent","appendChild","titleNumberLabel","append","titleNumberText","addressDiv","addressLabel","addressText","pricesPaidDiv","pricesPaidLabel","pricePaidDiv","pricePaidText","rightsDiv","rightsLabel","rightDiv","rightTypeLabel","rightTypeText","rightDescriptionLabel","rightDescriptionText","partyLabel","partyText","restrictionsDiv","restrictionsLabel","restrictionDiv","restrictionTypeLabel","restrictionTypeText","restrictionDescriptionLabel","restrictionDescriptionText","responsibilitiesDiv","responsibilitiesLabel","responsibilityDiv","responsibilityTypeLabel","responsibilityTypeText","responsibilityDescriptionLabel","responsibilityDescriptionText","filterCheckboxes","getElementsByName","addEventListener","target","preventDefault","stopPropagation"],"mappings":"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","file":"mapbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","mapboxgl.accessToken = 'pk.eyJ1IjoibWF0dGdpcmRsZXIiLCJhIjoiY2lteW85cm5lMDBmcnY5bTFxY2Zsc3c2OCJ9.VvO2DhAhOVrcjJ0Usw8JIA'\n    let map = new mapboxgl.Map({\n    style: 'mapbox://styles/mattgirdler/cjznu3ztu06m31clp2j37yybz',\n    center:[-3.5208657, 50.7227184],\n    zoom: 17.5,\n    pitch: 45,\n    bearing: -17.6,\n    container: 'map',\n    antialias: true\n})\n\nconst buildingHeightSourceLayer = \"exeter_buildings_with_height-0ygi87\"\nconst floorplanLayers = [\n    // {layer: 'princesshay-level-gf-leasehold', sourceLayer: 'princesshay-level-gf-8yagcd'},\n    // {layer: 'princesshay-level-gf-freehold', sourceLayer: 'princesshay-level-gf-8yagcd'},\n    // {layer: 'princesshay-level-1-leasehold', sourceLayer: 'princesshay-level-1-90cnib'},\n    // {layer: 'princesshay-level-1-freehold', sourceLayer: 'princesshay-level-1-90cnib'},\n    {layer: 'airspace-leasehold-a6g827', sourceLayer: 'airspace-a6g827'},\n    {layer: 'freehold-diumk5', sourceLayer: 'osgb1000012317615-freehold-diumk5'},\n    {layer: 'leasehold-0-83okhj', sourceLayer: 'osgb1000012317615-0-83okhj'},\n    {layer: 'leasehold-1-54g9gf', sourceLayer: 'osgb1000012317615-1-54g9gf'},\n    {layer: 'leasehold-2-ccs62k', sourceLayer: 'osgb1000012317615-2-ccs62k'},\n    {layer: 'leasehold-3-8aah9q', sourceLayer: 'osgb1000012317615-3-8aah9q'}\n]\n\nconst spatialUnitsDiv = document.getElementById('spatial-units')\nconst spatialUnits = JSON.parse(spatialUnitsDiv.innerHTML)[0]\n\nmap.on('load', function() {\n\n    // Create array of building IDs with boundary/floorplan data\n    const buildingIdsWithFloorplans = []\n    for (let i in floorplanLayers) {\n        // Ignore airspace layers\n        if (!floorplanLayers[i].layer.includes('airspace')) {\n            const features = map.querySourceFeatures('composite', {\n                sourceLayer: floorplanLayers[i].sourceLayer,\n            })\n            for (let j in features) {\n                if (!buildingIdsWithFloorplans.includes(features[j].properties.fid)) {\n                    buildingIdsWithFloorplans.push(features[j].properties.fid)\n                }\n            }\n        }\n    }\n\n    // Hide any buildings that have boundary/floorplan data \n    let buildingFilter = [\"in\", \"fid\"].concat(buildingIdsWithFloorplans)\n    const buildingFeatures = map.querySourceFeatures('composite', {\n        sourceLayer: buildingHeightSourceLayer,\n        filter: buildingFilter\n    })\n    for (let i in buildingFeatures) {\n        map.setFeatureState({id: buildingFeatures[i].id, source: 'composite', sourceLayer: buildingHeightSourceLayer}, {'hide': true})\n        displayFloorplan(buildingFeatures[i].properties.fid)\n    }\n\n    // Create an overlay\n    let titleInformationOverlay = document.getElementById('title-information-overlay')\n    let toggleLayersOverlay = document.getElementById('toggle-layers-overlay')\n    toggleLayersOverlay.style.display = 'block'\n\n    // Display features after hiding the building geometry\n    function displayFloorplan(buildingId) {\n        for (let i in floorplanLayers) {\n            map.setLayoutProperty(floorplanLayers[i].layer, 'visibility', 'visible')\n\n            // Don't worry about extruding the airspace layer, this is extruded by default\n            if (!floorplanLayers[i].layer.includes('airspace')) {\n                // Get the features within the layer\n                const features = map.querySourceFeatures('composite', {\n                    sourceLayer: floorplanLayers[i].sourceLayer\n                })\n\n                for (let j in features) {\n                    let baseHeight = 0\n                    let extrusionHeight = 0\n\n                    if (floorplanLayers[i].layer.includes('freehold')) {\n                        extrusionHeight = 120\n\n                        // TODO - Add a buffer to the freehold to avoid clipping\n                    } else {\n                        const buildingId = features[j].properties.fid\n                        // Get building height from OS dataset\n                        const buildingFeature = map.querySourceFeatures('composite', {\n                            sourceLayer: buildingHeightSourceLayer,\n                            filter: [\"==\", 'fid', buildingId]\n                        })[0]\n                        const buildingHeight = buildingFeature.properties.RelHmax \n    \n                        // Generate feature height values based on building height\n                        const floorHeight = buildingHeight / features[j].properties.num_floors\n                        extrusionHeight = floorHeight * (features[j].properties.floor + 1)\n                        baseHeight = floorHeight*features[j].properties.floor\n                    }\n\n                    // Extrude the features\n                    map.setPaintProperty(floorplanLayers[i].layer, 'fill-extrusion-height', extrusionHeight, {validate: true})\n                    map.setPaintProperty(floorplanLayers[i].layer, 'fill-extrusion-base', baseHeight, {validate: true})\n                }\n            } \n        }\n    }\n\n    function hideFloorplan(buildingId) {\n        for (let i in floorplanLayers) {\n            const features = map.querySourceFeatures('composite', {\n                sourceLayer: floorplanLayers[i].sourceLayer, \n                filter: [\"==\", 'fid', buildingId]\n            })\n            if (features.length > 0) {\n                map.setPaintProperty(floorplanLayers[i].layer, 'fill-extrusion-base', 0, {validate: true})\n                map.setPaintProperty(floorplanLayers[i].layer, 'fill-extrusion-height', 0, {validate: true})\n            }\n        }\n    }\n\n    function highlightTitle(featureId) {\n\n        let spatialUnit = getSpatialUnitById(featureId)\n        let spatialUnitTitleNumber = spatialUnit['ba_units'][0]['name']\n        let titleFeatureIds = getFeatureIdsByTitleNumber(spatialUnitTitleNumber)\n\n        for (let i in floorplanLayers) {\n            for (let j in titleFeatureIds) {\n                const features = map.querySourceFeatures('composite', { \n                    sourceLayer: floorplanLayers[i].sourceLayer,\n                    filter: ['==', 'id', titleFeatureIds[j]] \n                })\n\n                for (let k in features) {\n                    map.setFeatureState({id: features[k].id, source: 'composite', sourceLayer: floorplanLayers[i].sourceLayer}, {'highlight': true})\n                }\n            }\n        }\n    }\n\n    function disableHighlightTitle() {\n        for (let i in floorplanLayers) {\n            titleInformationOverlay.style.display = 'none'\n            map.removeFeatureState({source: 'composite', sourceLayer: floorplanLayers[i].sourceLayer})\n        }\n    }\n\n    function getFeatureIdsByTitleNumber(titleNumber) {\n        let featureIds = []\n        for (let i in spatialUnits) {\n            if (spatialUnits[i]['ba_units'][0]['name'] == titleNumber) {\n                featureIds.push(spatialUnits[i]['id'])\n            }\n        }\n        return featureIds\n    }\n\n    function getSpatialUnitById(featureId) {\n        let result = spatialUnits.find(function(element) {\n            return element.id == featureId\n        })\n        return result\n    }\n\n    // Toggle building polygons on/off\n    // map.on('click', 'exeter-buildings-with-height', function (e) {\n    //     const features = map.queryRenderedFeatures(e.point)\n    //     const feature = features[0]\n    //     if (map.getFeatureState({id: feature.id, source: 'composite', sourceLayer: buildingHeightSourceLayer}).hide) {\n    //         hideFloorplan(feature.properties.fid)\n    //         map.removeFeatureState({id: feature.id, source: 'composite', sourceLayer: buildingHeightSourceLayer}, 'hide')\n    //     } else {\n    //         map.setFeatureState({id: feature.id, source: 'composite', sourceLayer: buildingHeightSourceLayer}, {'hide': true})\n    //         displayFloorplan(feature.properties.fid)\n    //     }\n    // })\n\n    // Display title information from floorplans\n    map.on('mousemove', function(e) {\n\n        disableHighlightTitle()\n\n        // Create array of floorplan style layers for filtering\n        const layers = []\n        for (let i in floorplanLayers) {\n            layers.push(floorplanLayers[i].layer)\n        }\n\n        // Check if mouseover is on a floorplan layer\n        const features = map.queryRenderedFeatures(e.point, { layers: layers })\n        if (features.length > 0) {\n            const currentFeature = features[0]\n\n            highlightTitle(currentFeature.properties.id)\n            \n            let featureId = currentFeature.properties.id\n\n            let spatialUnit = getSpatialUnitById(featureId)\n\n            let BAUnits = []\n\n            if (spatialUnit) {\n                \n                for (let BAUnit in spatialUnit['ba_units']) {\n                    let currentBAUnit = spatialUnit['ba_units'][BAUnit]\n\n                    let title = { \n                        address: spatialUnit['address'],\n                        titleNumber: currentBAUnit['name'],\n                        pricePaid: [],\n                        rights: [],\n                        restrictions: [],\n                        responsibilities: []\n                    }\n\n                    // Prices Paid\n                    for (let pricePaid in spatialUnit['price_paid']) {\n                        let currentPricePaid = spatialUnit['price_paid'][pricePaid]\n                        title['pricePaid'].push({\n                            amount: currentPricePaid['amount'],\n                            date: currentPricePaid['date']\n                        })\n                    }\n\n                    // Rights\n                    for (let right in currentBAUnit['rights']) {\n                        let currentRight = currentBAUnit['rights'][right]\n                        let newRight = {\n                        rightId: currentRight['right_id'],\n                        type: currentRight['type'],\n                        description: currentRight['description'],\n                        mortgages: []\n                        }\n\n                        if (currentRight['party']) {\n                        newRight['party'] = {\n                            name: currentRight['party']['name'],\n                            type: currentRight['party']['type'],\n                            partyId: currentRight['party']\n                        }\n                        }\n\n                        for (let mortgage in currentRight['mortgages']) {\n                        let currentMortgage = currentRight['mortgages'][mortgage]\n                        let newMortgage = {\n                            type: currentMortgage['type'],\n                            amount: currentMortgage['amount'],\n                            interestRate: currentMortgage['interest_rate']\n                        }\n                        newRight['mortgages'].push(newMortgage)\n                        } \n                        title['rights'].push(newRight)\n                    }\n\n                    // Add restrictions\n                    for (let restriction in currentBAUnit['restrictions']) {\n                        let currentRestriction = currentBAUnit['restrictions'][restriction]\n                        let newRestriction = {\n                        type: currentRestriction['type'],\n                        description: currentRestriction['description']\n                        }\n\n                        if (currentRestriction['party']) {\n                        newRestriction['party'] = {\n                            name: currentRestriction['party']['name'],\n                            type: currentRestriction['party']['type'],\n                            partyId: currentRestriction['party']\n                        }\n                        }\n                        title['restrictions'].push(newRestriction)\n                    }\n\n                    // Add responsibilities\n                    for (let responsibility in currentBAUnit['responsibilities']) {\n                        let currentResponsibility = currentBAUnit['responsibilities'][responsibility]\n                        let newResponsibility = {\n                        type: currentResponsibility['type'],\n                        description: currentResponsibility['description']\n                        }\n\n                        if (currentResponsibility['party']) {\n                        newResponsibility['party'] = {\n                            name: currentResponsibility['party']['name'],\n                            type: currentResponsibility['party']['type'],\n                            partyId: currentResponsibility['party']\n                        }\n                        }\n                        title['responsibilities'].push(newResponsibility)\n                    }\n                    BAUnits.push(title)\n                }\n            } \n\n            // Create HTML for title details \n            titleInformationOverlay.innerHTML = ''\n\n            // titleInformationOverlay.innerHTML = JSON.stringify(spatialUnit)\n            let tenureTypeHeading = document.createElement('h1')\n            tenureTypeHeading.textContent = BAUnits[0]['rights'][0]['type']\n            titleInformationOverlay.appendChild(tenureTypeHeading)\n\n            let titleNumberLabel = document.createElement('strong')\n            titleNumberLabel.textContent = \"Title number: \"\n            titleInformationOverlay.append(titleNumberLabel)\n            let titleNumberText = document.createElement('span')\n            titleNumberText.append(BAUnits[0]['titleNumber'])\n            titleInformationOverlay.appendChild(titleNumberText)\n            \n            // Address data\n            if (BAUnits[0]['address']) {\n                let addressDiv = document.createElement('div')\n                let addressLabel = document.createElement('strong')\n                addressLabel.textContent = 'Address: '\n                addressDiv.append(addressLabel)\n\n                let addressText = document.createElement('span')\n                addressText.textContent = BAUnits[0]['address']\n                addressDiv.append(addressText)\n                titleInformationOverlay.appendChild(addressDiv)\n            }\n\n            titleInformationOverlay.appendChild(document.createElement('hr'))\n\n            // Price Paid data\n            let pricesPaidDiv = document.createElement('div')\n            if (BAUnits[0]['pricePaid'].length > 0) {\n                let pricesPaidLabel = document.createElement('strong')\n                pricesPaidLabel.textContent = 'Prices Paid:'\n                pricesPaidDiv.appendChild(pricesPaidLabel)\n\n                for (let pricePaid in BAUnits[0]['pricePaid']) {\n                    let pricePaidDiv = document.createElement('div')\n                    pricePaidDiv.style = \"margin-left: 10px;\"\n\n                    let pricePaidText = document.createElement('span')\n                    pricePaidText.textContent = BAUnits[0]['pricePaid'][pricePaid]['date'] + \" - \" + BAUnits[0]['pricePaid'][pricePaid]['amount']\n                    pricePaidDiv.appendChild(pricePaidText)\n                    pricePaidDiv.appendChild(document.createElement('br'))\n\n                    pricesPaidDiv.appendChild(pricePaidDiv)\n                }\n                titleInformationOverlay.appendChild(pricesPaidDiv)\n                titleInformationOverlay.appendChild(document.createElement('hr'))\n            }\n\n            // Rights data\n            let rightsDiv = document.createElement('div')\n            if (BAUnits[0]['rights'].length > 0) {\n                let rightsLabel = document.createElement('strong')\n                rightsLabel.textContent = 'Rights:'\n                rightsDiv.appendChild(rightsLabel)\n                for (let right in BAUnits[0]['rights']) {\n                    let rightDiv = document.createElement('div')\n                    rightDiv.style = \"margin-left: 10px;\"\n\n                    // Right Type\n                    let rightTypeLabel  = document.createElement('strong')\n                    rightTypeLabel.textContent = 'Type: '\n                    rightDiv.appendChild(rightTypeLabel)\n\n                    let rightTypeText = document.createElement('span')\n                    rightTypeText.textContent = BAUnits[0]['rights'][right]['type']\n                    rightDiv.appendChild(rightTypeText)\n                    rightDiv.appendChild(document.createElement('br'))\n\n                    // Right description\n                    if (BAUnits[0]['rights'][right]['description']) {\n                        let rightDescriptionLabel  = document.createElement('strong')\n                        rightDescriptionLabel.textContent = 'Description: '\n                        rightDiv.appendChild(rightDescriptionLabel)\n\n                        let rightDescriptionText = document.createElement('span')\n                        rightDescriptionText.textContent = BAUnits[0]['rights'][right]['description']\n                        rightDiv.appendChild(rightDescriptionText)\n                        rightDiv.appendChild(document.createElement('br'))\n                    }\n\n                    // Right Party\n                    let partyLabel  = document.createElement('strong')\n                    partyLabel.textContent = 'Party: '\n                    rightDiv.appendChild(partyLabel)\n\n                    let partyText = document.createElement('span')\n                    partyText.textContent = BAUnits[0]['rights'][right]['party']['name'] + \" (\" + BAUnits[0]['rights'][right]['party']['type'] + \")\"\n\n                    rightDiv.appendChild(partyText)\n                    rightDiv.appendChild(document.createElement('hr'))\n\n                    rightsDiv.appendChild(rightDiv)\n                }\n                titleInformationOverlay.appendChild(rightsDiv)\n            }\n\n            // Restrictions data\n            let restrictionsDiv = document.createElement('div')\n            if (BAUnits[0]['restrictions'].length > 0) {\n                let restrictionsLabel = document.createElement('strong')\n                restrictionsLabel.textContent = 'Restrictions:'\n                restrictionsDiv.appendChild(restrictionsLabel)\n                for (restriction in BAUnits[0]['restrictions']) {\n                    let restrictionDiv = document.createElement('div')\n                    restrictionDiv.style = \"margin-left: 10px;\"\n\n                    // Restriction Type\n                    let restrictionTypeLabel  = document.createElement('strong')\n                    restrictionTypeLabel.textContent = 'Type: '\n                    restrictionDiv.appendChild(restrictionTypeLabel)\n\n                    let restrictionTypeText = document.createElement('span')\n                    restrictionTypeText.textContent = BAUnits[0]['restrictions'][restriction]['type']\n                    restrictionDiv.appendChild(restrictionTypeText)\n                    restrictionDiv.appendChild(document.createElement('br'))\n\n                    // Restriction description\n                    if (BAUnits[0]['restrictions'][restriction]['description']) {\n                        let restrictionDescriptionLabel  = document.createElement('strong')\n                        restrictionDescriptionLabel.textContent = 'Description: '\n                        restrictionDiv.appendChild(restrictionDescriptionLabel)\n\n                        let restrictionDescriptionText = document.createElement('span')\n                        restrictionDescriptionText.textContent = BAUnits[0]['restrictions'][restriction]['description']\n                        restrictionDiv.appendChild(restrictionDescriptionText)\n                        restrictionDiv.appendChild(document.createElement('br'))\n                    }\n\n                    // Restriction Party\n                    let partyLabel  = document.createElement('strong')\n                    partyLabel.textContent = 'Party: '\n                    restrictionDiv.appendChild(partyLabel)\n\n                    let partyText = document.createElement('span')\n                    partyText.textContent = BAUnits[0]['restrictions'][restriction]['party']['name'] + \" (\" + BAUnits[0]['restrictions'][restriction]['party']['type'] + \")\"\n\n                    restrictionDiv.appendChild(partyText)\n                    restrictionDiv.appendChild(document.createElement('hr'))\n\n                    restrictionsDiv.appendChild(restrictionDiv)\n                }\n                titleInformationOverlay.appendChild(restrictionsDiv)\n            }\n\n            // Responsibilities data\n            let responsibilitiesDiv = document.createElement('div')\n            if (BAUnits[0]['responsibilities'].length > 0) {\n                let responsibilitiesLabel = document.createElement('strong')\n                responsibilitiesLabel.textContent = 'Responsibilities:'\n                responsibilitiesDiv.appendChild(responsibilitiesLabel)\n                for (responsibility in BAUnits[0]['responsibilities']) {\n                    let responsibilityDiv = document.createElement('div')\n                    responsibilityDiv.style = \"margin-left: 10px;\"\n\n                    // Responsibility Type\n                    let responsibilityTypeLabel  = document.createElement('strong')\n                    responsibilityTypeLabel.textContent = 'Type: '\n                    responsibilityDiv.appendChild(responsibilityTypeLabel)\n\n                    let responsibilityTypeText = document.createElement('span')\n                    responsibilityTypeText.textContent = BAUnits[0]['responsibilities'][responsibility]['type']\n                    responsibilityDiv.appendChild(responsibilityTypeText)\n                    responsibilityDiv.appendChild(document.createElement('br'))\n\n                    // Responsibility description\n                    if (BAUnits[0]['responsibilities'][responsibility]['description']) {\n                        let responsibilityDescriptionLabel  = document.createElement('strong')\n                        responsibilityDescriptionLabel.textContent = 'Description: '\n                        responsibilityDiv.appendChild(responsibilityDescriptionLabel)\n\n                        let responsibilityDescriptionText = document.createElement('span')\n                        responsibilityDescriptionText.textContent = BAUnits[0]['responsibilities'][responsibility]['description']\n                        responsibilityDiv.appendChild(responsibilityDescriptionText)\n                        responsibilityDiv.appendChild(document.createElement('br'))\n                    }\n\n                    // Responsibility Party\n                    let partyLabel  = document.createElement('strong')\n                    partyLabel.textContent = 'Party: '\n                    responsibilityDiv.appendChild(partyLabel)\n\n                    let partyText = document.createElement('span')\n                    partyText.textContent = BAUnits[0]['responsibilities'][responsibility]['party']['name'] + \" (\" + BAUnits[0]['responsibilities'][responsibility]['party']['type'] + \")\"\n\n                    responsibilityDiv.appendChild(partyText)\n                    responsibilityDiv.appendChild(document.createElement('hr'))\n\n                    responsibilitiesDiv.appendChild(responsibilityDiv)\n                }\n                titleInformationOverlay.appendChild(responsibilitiesDiv)\n            }\n            // Display overlay\n            titleInformationOverlay.style.display = 'block'\n        }\n    })\n})\n\nfunction toggleLayers(filter) {\n    for (let i in floorplanLayers) {\n        if (floorplanLayers[i].layer.includes(filter)) {\n            let visibility = map.getLayoutProperty(floorplanLayers[i].layer, 'visibility')\n            if (visibility == 'visible') {\n                map.setLayoutProperty(floorplanLayers[i].layer, 'visibility', 'none')\n                this.className = ''\n            } else {  \n                this.className = 'active'\n                map.setLayoutProperty(floorplanLayers[i].layer, 'visibility', 'visible')\n            }\n        }\n    }\n}\n\nlet filterCheckboxes = document.getElementsByName('filter')\nfor (let i = 0; i<filterCheckboxes.length; i++) {\n    filterCheckboxes[i].addEventListener('change', function(e) {\n    let filter = e.target.value\n    e.preventDefault()\n    e.stopPropagation()\n    \n    toggleLayers(filter)  \n    })\n}\n\n\n"],"sourceRoot":""}